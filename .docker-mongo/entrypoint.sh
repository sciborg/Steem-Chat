#!/bin/bash

echo """
[49m[K[0m
[22C[48;5;203m               [49m
[20C[48;5;203m                      [49m
[20C[48;5;203m                      [49m
[15C[48;5;203m          [48;5;231m               [48;5;203m       [49m
[10C[48;5;203m          [48;5;231m               [48;5;16m     [48;5;231m  [48;5;203m        [5C[48;5;16m     [49m
[2C[48;5;203m               [48;5;231m               [48;5;16m   [48;5;188m     [48;5;16m  [48;5;231m   [48;5;203m       [48;5;16m        [49m
[5C[48;5;203m          [48;5;231m                 [48;5;16m   [48;5;188m  [48;5;231m     [48;5;16m   [48;5;231m  [48;5;203m     [48;5;16m   [48;5;231m     [48;5;16m  [49m
[5C[48;5;203m          [48;5;231m                 [48;5;16m   [48;5;188m  [48;5;231m     [48;5;16m   [48;5;231m  [48;5;203m     [48;5;16m   [48;5;231m     [48;5;16m  [49m
[10C[48;5;203m     [48;5;231m     [48;5;203m  [48;5;231m        [48;5;203m  [48;5;16m   [48;5;188m  [48;5;231m        [48;5;16m       [48;5;231m        [48;5;16m  [49m
[10C[48;5;203m     [48;5;231m  [48;5;203m        [48;5;231m  [48;5;203m     [48;5;16m   [48;5;188m  [48;5;231m                       [48;5;16m  [49m
[10C[48;5;203m     [48;5;231m     [48;5;203m  [48;5;231m        [48;5;203m  [48;5;16m   [48;5;188m  [48;5;231m                       [48;5;16m  [49m
[5C[48;5;203m          [48;5;231m               [48;5;16m  [48;5;188m     [48;5;231m     [48;5;16m   [48;5;231m       [48;5;16m   [48;5;231m       [48;5;16m   [49m
[2C[48;5;203m               [48;5;231m             [48;5;16m  [48;5;188m   [48;5;231m     [48;5;16m     [48;5;231m     [48;5;16m     [48;5;231m       [48;5;16m   [49m
[2C[48;5;203m               [48;5;231m             [48;5;16m  [48;5;188m   [48;5;231m     [48;5;16m     [48;5;231m     [48;5;16m     [48;5;231m       [48;5;16m   [49m
[7C[48;5;16m     [48;5;203m        [48;5;231m          [48;5;16m  [48;5;188m   [48;5;231m                           [48;5;16m   [49m
[5C[48;5;16m  [48;5;231m     [48;5;203m                  [48;5;16m  [48;5;188m   [48;5;231m     [48;5;16m  [48;5;231m     [48;5;16m   [48;5;231m  [48;5;16m   [48;5;231m       [48;5;16m   [49m
[5C[48;5;16m  [48;5;231m   [48;5;16m     [48;5;231m  [48;5;203m        [48;5;16m       [48;5;188m     [48;5;231m   [48;5;16m               [48;5;231m     [48;5;16m  [49m
[5C[48;5;16m     [5C  [48;5;231m     [48;5;16m   [7C   [48;5;188m  [48;5;231m                    [48;5;16m   [49m
[5C[48;5;16m     [5C  [48;5;231m     [48;5;16m   [7C   [48;5;188m  [48;5;231m                    [48;5;16m   [49m
[15C[48;5;16m  [48;5;231m   [48;5;16m     [10C                      [49m
[15C[48;5;16m       [13C  [48;5;231m     [48;5;16m   [2C   [48;5;231m     [48;5;16m  [49m
[37C[48;5;16m        [2C        [49m



[0m
"""

echo """
██████╗  ██████╗  ██████╗██╗  ██╗███████╗████████╗ ██████╗██╗  ██╗ █████╗ ████████╗    ██████╗ ██████╗ ███████╗██╗   ██╗██╗███████╗██╗    ██╗
██╔══██╗██╔═══██╗██╔════╝██║ ██╔╝██╔════╝╚══██╔══╝██╔════╝██║  ██║██╔══██╗╚══██╔══╝    ██╔══██╗██╔══██╗██╔════╝██║   ██║██║██╔════╝██║    ██║
██████╔╝██║   ██║██║     █████╔╝ █████╗     ██║   ██║     ███████║███████║   ██║       ██████╔╝██████╔╝█████╗  ██║   ██║██║█████╗  ██║ █╗ ██║
██╔══██╗██║   ██║██║     ██╔═██╗ ██╔══╝     ██║   ██║     ██╔══██║██╔══██║   ██║       ██╔═══╝ ██╔══██╗██╔══╝  ╚██╗ ██╔╝██║██╔══╝  ██║███╗██║
██║  ██║╚██████╔╝╚██████╗██║  ██╗███████╗   ██║██╗╚██████╗██║  ██║██║  ██║   ██║       ██║     ██║  ██║███████╗ ╚████╔╝ ██║███████╗╚███╔███╔╝
╚═╝  ╚═╝ ╚═════╝  ╚═════╝╚═╝  ╚═╝╚══════╝   ╚═╝╚═╝ ╚═════╝╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝       ╚═╝     ╚═╝  ╚═╝╚══════╝  ╚═══╝  ╚═╝╚══════╝ ╚══╝╚══╝
"""

mongod --smallfiles --storageEngine=mmapv1 --fork --config /etc/mongod.conf

until mongo --eval "db" &> /dev/null; do
	echo "MongoDB still not ready, sleeping"
	sleep 1
done

node main.js
